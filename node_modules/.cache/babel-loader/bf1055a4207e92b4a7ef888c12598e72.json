{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _cssClasses = require('../cssClasses');\n\nvar _cssClasses2 = _interopRequireDefault(_cssClasses);\n\nvar _CSSTranslate = require('../CSSTranslate');\n\nvar _CSSTranslate2 = _interopRequireDefault(_CSSTranslate);\n\nvar _reactEasySwipe = require('react-easy-swipe');\n\nvar _reactEasySwipe2 = _interopRequireDefault(_reactEasySwipe);\n\nvar _Thumbs = require('./Thumbs');\n\nvar _Thumbs2 = _interopRequireDefault(_Thumbs);\n\nvar _customPropTypes = require('../customPropTypes');\n\nvar customPropTypes = _interopRequireWildcard(_customPropTypes);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar noop = function noop() {};\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n  return current + ' of ' + total;\n};\n\nvar Carousel = function (_Component) {\n  _inherits(Carousel, _Component);\n\n  function Carousel(props) {\n    _classCallCheck(this, Carousel);\n\n    var _this = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n    _this.setThumbsRef = function (node) {\n      _this.thumbsRef = node;\n    };\n\n    _this.setCarouselWrapperRef = function (node) {\n      _this.carouselWrapperRef = node;\n    };\n\n    _this.setListRef = function (node) {\n      _this.listRef = node;\n    };\n\n    _this.setItemsWrapperRef = function (node) {\n      _this.itemsWrapperRef = node;\n    };\n\n    _this.setItemsRef = function (node, index) {\n      if (!_this.itemsRef) {\n        _this.itemsRef = [];\n      }\n\n      _this.itemsRef[index] = node;\n    };\n\n    _this.autoPlay = function () {\n      if (!_this.state.autoPlay || _react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      clearTimeout(_this.timer);\n      _this.timer = setTimeout(function () {\n        _this.increment();\n      }, _this.props.interval);\n    };\n\n    _this.clearAutoPlay = function () {\n      if (!_this.state.autoPlay) {\n        return;\n      }\n\n      clearTimeout(_this.timer);\n    };\n\n    _this.resetAutoPlay = function () {\n      _this.clearAutoPlay();\n\n      _this.autoPlay();\n    };\n\n    _this.stopOnHover = function () {\n      _this.setState({\n        isMouseEntered: true\n      });\n\n      _this.clearAutoPlay();\n    };\n\n    _this.startOnLeave = function () {\n      _this.setState({\n        isMouseEntered: false\n      });\n\n      _this.autoPlay();\n    };\n\n    _this.navigateWithKeyboard = function (e) {\n      var axis = _this.props.axis;\n      var isHorizontal = axis === 'horizontal';\n      var keyNames = {\n        ArrowUp: 38,\n        ArrowRight: 39,\n        ArrowDown: 40,\n        ArrowLeft: 37\n      };\n      var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n      var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n      if (nextKey === e.keyCode) {\n        _this.increment();\n      } else if (prevKey === e.keyCode) {\n        _this.decrement();\n      }\n    };\n\n    _this.updateSizes = function () {\n      if (!_this.state.initialized) {\n        return;\n      }\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n      var firstItem = _this.itemsRef[0];\n      var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n      _this.setState(function (_state, props) {\n        return {\n          itemSize: itemSize\n        };\n      });\n\n      if (_this.thumbsRef) {\n        _this.thumbsRef.updateSizes();\n      }\n    };\n\n    _this.setMountState = function () {\n      _this.setState({\n        hasMount: true\n      });\n\n      _this.updateSizes();\n    };\n\n    _this.handleClickItem = function (index, item) {\n      if (_react.Children.count(_this.props.children) === 0) {\n        return;\n      }\n\n      if (_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: false\n        });\n\n        return;\n      }\n\n      _this.props.onClickItem(index, item);\n\n      if (index !== _this.state.selectedItem) {\n        _this.setState({\n          selectedItem: index\n        });\n      }\n    };\n\n    _this.handleOnChange = function (index, item) {\n      if (_react.Children.count(_this.props.children) <= 1) {\n        return;\n      }\n\n      _this.props.onChange(index, item);\n    };\n\n    _this.handleClickThumb = function (index, item) {\n      _this.props.onClickThumb(index, item);\n\n      _this.selectItem({\n        selectedItem: index\n      });\n    };\n\n    _this.onSwipeStart = function (event) {\n      _this.setState({\n        swiping: true\n      });\n\n      _this.props.onSwipeStart(event);\n\n      _this.clearAutoPlay();\n    };\n\n    _this.onSwipeEnd = function (event) {\n      _this.setState({\n        swiping: false,\n        cancelClick: false\n      });\n\n      _this.props.onSwipeEnd(event);\n\n      _this.autoPlay();\n    };\n\n    _this.onSwipeMove = function (delta, event) {\n      _this.props.onSwipeMove(event);\n\n      var isHorizontal = _this.props.axis === 'horizontal';\n\n      var childrenLength = _react.Children.count(_this.props.children);\n\n      var initialBoundry = 0;\n\n      var currentPosition = _this.getPosition(_this.state.selectedItem);\n\n      var finalBoundry = _this.props.infiniteLoop ? _this.getPosition(childrenLength - 1) - 100 : _this.getPosition(childrenLength - 1);\n      var axisDelta = isHorizontal ? delta.x : delta.y;\n      var handledDelta = axisDelta; // prevent user from swiping left out of boundaries\n\n      if (currentPosition === initialBoundry && axisDelta > 0) {\n        handledDelta = 0;\n      } // prevent user from swiping right out of boundaries\n\n\n      if (currentPosition === finalBoundry && axisDelta < 0) {\n        handledDelta = 0;\n      }\n\n      var position = currentPosition + 100 / (_this.state.itemSize / handledDelta);\n\n      if (_this.props.infiniteLoop) {\n        // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n        // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n        if (_this.state.selectedItem === 0 && position > -100) {\n          position -= childrenLength * 100;\n        } else if (_this.state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n          position += childrenLength * 100;\n        }\n      }\n\n      position += '%';\n\n      _this.setPosition(position); // allows scroll if the swipe was within the tolerance\n\n\n      var hasMoved = Math.abs(axisDelta) > _this.props.swipeScrollTolerance;\n\n      if (hasMoved && !_this.state.cancelClick) {\n        _this.setState({\n          cancelClick: true\n        });\n      }\n\n      return hasMoved;\n    };\n\n    _this.setPosition = function (position, forceReflow) {\n      var list = _reactDom2.default.findDOMNode(_this.listRef);\n\n      ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n        list.style[prop] = (0, _CSSTranslate2.default)(position, _this.props.axis);\n      });\n\n      if (forceReflow) {\n        list.offsetLeft;\n      }\n    };\n\n    _this.resetPosition = function () {\n      var currentPosition = _this.getPosition(_this.state.selectedItem) + '%';\n\n      _this.setPosition(currentPosition);\n    };\n\n    _this.decrement = function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1), fromSwipe);\n    };\n\n    _this.increment = function () {\n      var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1), fromSwipe);\n    };\n\n    _this.moveTo = function (position, fromSwipe) {\n      var lastPosition = _react.Children.count(_this.props.children) - 1;\n      var needClonedSlide = _this.props.infiniteLoop && !fromSwipe && (position < 0 || position > lastPosition);\n      var oldPosition = position;\n\n      if (position < 0) {\n        position = _this.props.infiniteLoop ? lastPosition : 0;\n      }\n\n      if (position > lastPosition) {\n        position = _this.props.infiniteLoop ? 0 : lastPosition;\n      }\n\n      if (needClonedSlide) {\n        // set swiping true would disable transition time, then we set slider to cloned position and force a reflow\n        // this is only needed for non-swiping situation\n        _this.setState({\n          swiping: true\n        }, function () {\n          if (oldPosition < 0) {\n            if (_this.props.centerMode && _this.props.axis === 'horizontal') {\n              _this.setPosition('-' + ((lastPosition + 2) * _this.props.centerSlidePercentage - (100 - _this.props.centerSlidePercentage) / 2) + '%', true);\n            } else {\n              _this.setPosition('-' + (lastPosition + 2) * 100 + '%', true);\n            }\n          } else if (oldPosition > lastPosition) {\n            _this.setPosition(0, true);\n          }\n\n          _this.selectItem({\n            selectedItem: position,\n            swiping: false\n          });\n        });\n      } else {\n        _this.selectItem({\n          // if it's not a slider, we don't need to set position here\n          selectedItem: position\n        });\n      } // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n      // and will result in the interval function not being cleared correctly.\n\n\n      if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n        _this.resetAutoPlay();\n      }\n    };\n\n    _this.onClickNext = function () {\n      _this.increment(1, false);\n    };\n\n    _this.onClickPrev = function () {\n      _this.decrement(1, false);\n    };\n\n    _this.onSwipeForward = function () {\n      _this.increment(1, true);\n    };\n\n    _this.onSwipeBackwards = function () {\n      _this.decrement(1, true);\n    };\n\n    _this.changeItem = function (e) {\n      if (!e.key || e.key === 'Enter') {\n        var newIndex = e.target.value;\n\n        _this.selectItem({\n          selectedItem: newIndex\n        });\n      }\n    };\n\n    _this.selectItem = function (state, cb) {\n      _this.setState(state, cb);\n\n      _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n    };\n\n    _this.getInitialImage = function () {\n      var selectedItem = _this.props.selectedItem;\n      var item = _this.itemsRef && _this.itemsRef[selectedItem];\n      var images = item && item.getElementsByTagName('img');\n      return images && images[selectedItem];\n    };\n\n    _this.getVariableImageHeight = function (position) {\n      var item = _this.itemsRef && _this.itemsRef[position];\n      var images = item && item.getElementsByTagName('img');\n\n      if (_this.state.hasMount && images.length > 0) {\n        var image = images[0];\n\n        if (!image.complete) {\n          // if the image is still loading, the size won't be available so we trigger a new render after it's done\n          var onImageLoad = function onImageLoad() {\n            _this.forceUpdate();\n\n            image.removeEventListener('load', onImageLoad);\n          };\n\n          image.addEventListener('load', onImageLoad);\n        }\n\n        var height = image.clientHeight;\n        return height > 0 ? height : null;\n      }\n\n      return null;\n    };\n\n    _this.state = {\n      initialized: false,\n      selectedItem: props.selectedItem,\n      hasMount: false,\n      isMouseEntered: false,\n      autoPlay: props.autoPlay\n    };\n    return _this;\n  }\n\n  _createClass(Carousel, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (!this.props.children) {\n        return;\n      }\n\n      this.setupCarousel();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      var _this2 = this;\n\n      if (nextProps.selectedItem !== this.state.selectedItem) {\n        this.updateSizes();\n        this.moveTo(nextProps.selectedItem);\n      }\n\n      if (nextProps.autoPlay !== this.state.autoPlay) {\n        this.setState({\n          autoPlay: nextProps.autoPlay\n        }, function () {\n          if (_this2.state.autoPlay) {\n            _this2.setupAutoPlay();\n          } else {\n            _this2.destroyAutoPlay();\n          }\n        });\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!prevProps.children && this.props.children && !this.state.initialized) {\n        this.setupCarousel();\n      }\n\n      if (prevState.swiping && !this.state.swiping) {\n        // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n        this.resetPosition();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.destroyCarousel();\n    }\n  }, {\n    key: 'setupCarousel',\n    value: function setupCarousel() {\n      this.bindEvents();\n\n      if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n        this.setupAutoPlay();\n      }\n\n      this.setState({\n        initialized: true\n      });\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        // if it's a carousel of images, we set the mount state after the first image is loaded\n        initialImage.addEventListener('load', this.setMountState);\n      } else {\n        this.setMountState();\n      }\n    }\n  }, {\n    key: 'destroyCarousel',\n    value: function destroyCarousel() {\n      if (this.state.initialized) {\n        this.unbindEvents();\n        this.destroyAutoPlay();\n      }\n    }\n  }, {\n    key: 'setupAutoPlay',\n    value: function setupAutoPlay() {\n      this.autoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: 'destroyAutoPlay',\n    value: function destroyAutoPlay() {\n      this.clearAutoPlay();\n      var carouselWrapper = this.carouselWrapperRef;\n\n      if (this.props.stopOnHover && carouselWrapper) {\n        carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n        carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n      }\n    }\n  }, {\n    key: 'bindEvents',\n    value: function bindEvents() {\n      // as the widths are calculated, we need to resize\n      // the carousel when the window is resized\n      window.addEventListener(\"resize\", this.updateSizes); // issue #2 - image loading smaller\n\n      window.addEventListener(\"DOMContentLoaded\", this.updateSizes);\n\n      if (this.props.useKeyboardArrows) {\n        document.addEventListener(\"keydown\", this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: 'unbindEvents',\n    value: function unbindEvents() {\n      // removing listeners\n      window.removeEventListener(\"resize\", this.updateSizes);\n      window.removeEventListener(\"DOMContentLoaded\", this.updateSizes);\n      var initialImage = this.getInitialImage();\n\n      if (initialImage) {\n        initialImage.removeEventListener(\"load\", this.setMountState);\n      }\n\n      if (this.props.useKeyboardArrows) {\n        document.removeEventListener(\"keydown\", this.navigateWithKeyboard);\n      }\n    }\n  }, {\n    key: 'getPosition',\n    value: function getPosition(index) {\n      if (this.props.infiniteLoop) {\n        // index has to be added by 1 because of the first cloned slide\n        ++index;\n      }\n\n      var childrenLength = _react.Children.count(this.props.children);\n\n      if (this.props.centerMode && this.props.axis === 'horizontal') {\n        var currentPosition = -index * this.props.centerSlidePercentage;\n        var lastPosition = childrenLength - 1;\n\n        if (index && (index !== lastPosition || this.props.infiniteLoop)) {\n          currentPosition += (100 - this.props.centerSlidePercentage) / 2;\n        } else if (index === lastPosition) {\n          currentPosition += 100 - this.props.centerSlidePercentage;\n        }\n\n        return currentPosition;\n      }\n\n      return -index * 100;\n    }\n  }, {\n    key: 'renderItems',\n    value: function renderItems(isClone) {\n      var _this3 = this;\n\n      return _react.Children.map(this.props.children, function (item, index) {\n        var slideProps = {\n          ref: function ref(e) {\n            return _this3.setItemsRef(e, index);\n          },\n          key: 'itemKey' + index + (isClone ? 'clone' : ''),\n          className: _cssClasses2.default.ITEM(true, index === _this3.state.selectedItem),\n          onClick: _this3.handleClickItem.bind(_this3, index, item)\n        };\n\n        if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n          slideProps.style = {\n            minWidth: _this3.props.centerSlidePercentage + '%'\n          };\n        }\n\n        return _react2.default.createElement('li', slideProps, item);\n      });\n    }\n  }, {\n    key: 'renderControls',\n    value: function renderControls() {\n      var _this4 = this;\n\n      if (!this.props.showIndicators) {\n        return null;\n      }\n\n      return _react2.default.createElement('ul', {\n        className: 'control-dots'\n      }, _react.Children.map(this.props.children, function (item, index) {\n        return _react2.default.createElement('li', {\n          className: _cssClasses2.default.DOT(index === _this4.state.selectedItem),\n          onClick: _this4.changeItem,\n          onKeyDown: _this4.changeItem,\n          value: index,\n          key: index,\n          role: 'button',\n          tabIndex: 0,\n          'aria-label': _this4.props.labels.item + ' ' + (index + 1)\n        });\n      }));\n    }\n  }, {\n    key: 'renderStatus',\n    value: function renderStatus() {\n      if (!this.props.showStatus) {\n        return null;\n      }\n\n      return _react2.default.createElement('p', {\n        className: 'carousel-status'\n      }, this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children)));\n    }\n  }, {\n    key: 'renderThumbs',\n    value: function renderThumbs() {\n      if (!this.props.showThumbs || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return _react2.default.createElement(_Thumbs2.default, {\n        ref: this.setThumbsRef,\n        onSelectItem: this.handleClickThumb,\n        selectedItem: this.state.selectedItem,\n        transitionTime: this.props.transitionTime,\n        thumbWidth: this.props.thumbWidth,\n        labels: this.props.labels\n      }, this.props.children);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      var isHorizontal = this.props.axis === 'horizontal';\n      var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1; // show left arrow?\n\n      var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop); // show right arrow\n\n      var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop); // obj to hold the transformations and styles\n\n      var itemListStyles = {};\n      var currentPosition = this.getPosition(this.state.selectedItem); // if 3d is available, let's take advantage of the performance of transform\n\n      var transformProp = (0, _CSSTranslate2.default)(currentPosition + '%', this.props.axis);\n      var transitionTime = this.props.transitionTime + 'ms';\n      itemListStyles = {\n        'WebkitTransform': transformProp,\n        'MozTransform': transformProp,\n        'MsTransform': transformProp,\n        'OTransform': transformProp,\n        'transform': transformProp,\n        'msTransform': transformProp\n      };\n\n      if (!this.state.swiping) {\n        itemListStyles = _extends({}, itemListStyles, {\n          'WebkitTransitionDuration': transitionTime,\n          'MozTransitionDuration': transitionTime,\n          'MsTransitionDuration': transitionTime,\n          'OTransitionDuration': transitionTime,\n          'transitionDuration': transitionTime,\n          'msTransitionDuration': transitionTime\n        });\n      }\n\n      var itemsClone = this.renderItems(true);\n      var firstClone = itemsClone.shift();\n      var lastClone = itemsClone.pop();\n      var swiperProps = {\n        selectedItem: this.state.selectedItem,\n        className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n        onSwipeMove: this.onSwipeMove,\n        onSwipeStart: this.onSwipeStart,\n        onSwipeEnd: this.onSwipeEnd,\n        style: itemListStyles,\n        tolerance: this.props.swipeScrollTolerance\n      };\n      var containerStyles = {};\n\n      if (isHorizontal) {\n        swiperProps.onSwipeLeft = this.onSwipeForward;\n        swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n        if (this.props.dynamicHeight) {\n          var itemHeight = this.getVariableImageHeight(this.state.selectedItem);\n          swiperProps.style.height = itemHeight || 'auto';\n          containerStyles.height = itemHeight || 'auto';\n        }\n      } else {\n        swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n        swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n        swiperProps.style.height = this.state.itemSize;\n        containerStyles.height = this.state.itemSize;\n      }\n\n      return _react2.default.createElement('div', {\n        className: this.props.className,\n        ref: this.setCarouselWrapperRef\n      }, _react2.default.createElement('div', {\n        className: _cssClasses2.default.CAROUSEL(true),\n        style: {\n          width: this.props.width\n        }\n      }, _react2.default.createElement('button', {\n        type: 'button',\n        'aria-label': this.props.labels.leftArrow,\n        className: _cssClasses2.default.ARROW_PREV(!hasPrev),\n        onClick: this.onClickPrev\n      }), _react2.default.createElement('div', {\n        className: _cssClasses2.default.WRAPPER(true, this.props.axis),\n        style: containerStyles,\n        ref: this.setItemsWrapperRef\n      }, this.props.swipeable ? _react2.default.createElement(_reactEasySwipe2.default, _extends({\n        tagName: 'ul',\n        ref: this.setListRef\n      }, swiperProps, {\n        allowMouseEvents: this.props.emulateTouch\n      }), this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone) : _react2.default.createElement('ul', {\n        className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n        ref: this.setListRef,\n        style: itemListStyles\n      }, this.props.infiniteLoop && lastClone, this.renderItems(), this.props.infiniteLoop && firstClone)), _react2.default.createElement('button', {\n        type: 'button',\n        'aria-label': this.props.labels.rightArrow,\n        className: _cssClasses2.default.ARROW_NEXT(!hasNext),\n        onClick: this.onClickNext\n      }), this.renderControls(), this.renderStatus()), this.renderThumbs());\n    }\n  }]);\n\n  return Carousel;\n}(_react.Component);\n\nCarousel.displayName = 'Carousel';\nCarousel.propTypes = {\n  className: _propTypes2.default.string,\n  children: _propTypes2.default.node,\n  showArrows: _propTypes2.default.bool,\n  showStatus: _propTypes2.default.bool,\n  showIndicators: _propTypes2.default.bool,\n  infiniteLoop: _propTypes2.default.bool,\n  showThumbs: _propTypes2.default.bool,\n  thumbWidth: _propTypes2.default.number,\n  selectedItem: _propTypes2.default.number,\n  onClickItem: _propTypes2.default.func.isRequired,\n  onClickThumb: _propTypes2.default.func.isRequired,\n  onChange: _propTypes2.default.func.isRequired,\n  axis: _propTypes2.default.oneOf(['horizontal', 'vertical']),\n  verticalSwipe: _propTypes2.default.oneOf(['natural', 'standard']),\n  width: customPropTypes.unit,\n  useKeyboardArrows: _propTypes2.default.bool,\n  autoPlay: _propTypes2.default.bool,\n  stopOnHover: _propTypes2.default.bool,\n  interval: _propTypes2.default.number,\n  transitionTime: _propTypes2.default.number,\n  swipeScrollTolerance: _propTypes2.default.number,\n  swipeable: _propTypes2.default.bool,\n  dynamicHeight: _propTypes2.default.bool,\n  emulateTouch: _propTypes2.default.bool,\n  statusFormatter: _propTypes2.default.func.isRequired,\n  centerMode: _propTypes2.default.bool,\n  centerSlidePercentage: _propTypes2.default.number,\n  labels: _propTypes2.default.shape({\n    leftArrow: _propTypes2.default.string,\n    rightArrow: _propTypes2.default.string,\n    item: _propTypes2.default.string\n  }),\n  onSwipeStart: _propTypes2.default.func,\n  onSwipeEnd: _propTypes2.default.func,\n  onSwipeMove: _propTypes2.default.func\n};\nCarousel.defaultProps = {\n  showIndicators: true,\n  showArrows: true,\n  showStatus: true,\n  showThumbs: true,\n  infiniteLoop: false,\n  selectedItem: 0,\n  axis: 'horizontal',\n  verticalSwipe: 'standard',\n  width: '100%',\n  useKeyboardArrows: false,\n  autoPlay: false,\n  stopOnHover: true,\n  interval: 3000,\n  transitionTime: 350,\n  swipeScrollTolerance: 5,\n  swipeable: true,\n  dynamicHeight: false,\n  emulateTouch: false,\n  onClickItem: noop,\n  onClickThumb: noop,\n  onChange: noop,\n  statusFormatter: defaultStatusFormatter,\n  centerMode: false,\n  centerSlidePercentage: 80,\n  labels: {\n    leftArrow: 'previous slide / item',\n    rightArrow: 'next slide / item',\n    item: 'slide item'\n  },\n  onSwipeStart: function onSwipeStart() {},\n  onSwipeEnd: function onSwipeEnd() {},\n  onSwipeMove: function onSwipeMove() {}\n};\nexports.default = Carousel;","map":{"version":3,"sources":["/root/advaita_main/node_modules/react-responsive-carousel/lib/components/Carousel.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDom","_reactDom2","_propTypes","_propTypes2","_cssClasses","_cssClasses2","_CSSTranslate","_CSSTranslate2","_reactEasySwipe","_reactEasySwipe2","_Thumbs","_Thumbs2","_customPropTypes","customPropTypes","_interopRequireWildcard","obj","__esModule","newObj","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","noop","defaultStatusFormatter","current","total","Carousel","_Component","_this","getPrototypeOf","setThumbsRef","node","thumbsRef","setCarouselWrapperRef","carouselWrapperRef","setListRef","listRef","setItemsWrapperRef","itemsWrapperRef","setItemsRef","index","itemsRef","autoPlay","state","Children","count","children","clearTimeout","timer","setTimeout","increment","interval","clearAutoPlay","resetAutoPlay","stopOnHover","setState","isMouseEntered","startOnLeave","navigateWithKeyboard","e","axis","isHorizontal","keyNames","ArrowUp","ArrowRight","ArrowDown","ArrowLeft","nextKey","prevKey","keyCode","decrement","updateSizes","initialized","firstItem","itemSize","clientWidth","clientHeight","_state","setMountState","hasMount","handleClickItem","item","cancelClick","onClickItem","selectedItem","handleOnChange","onChange","handleClickThumb","onClickThumb","selectItem","onSwipeStart","event","swiping","onSwipeEnd","onSwipeMove","delta","childrenLength","initialBoundry","currentPosition","getPosition","finalBoundry","infiniteLoop","axisDelta","x","y","handledDelta","position","setPosition","hasMoved","Math","abs","swipeScrollTolerance","forceReflow","list","findDOMNode","forEach","prop","style","offsetLeft","resetPosition","positions","undefined","fromSwipe","moveTo","lastPosition","needClonedSlide","oldPosition","centerMode","centerSlidePercentage","onClickNext","onClickPrev","onSwipeForward","onSwipeBackwards","changeItem","newIndex","cb","toArray","getInitialImage","images","getElementsByTagName","getVariableImageHeight","image","complete","onImageLoad","forceUpdate","removeEventListener","addEventListener","height","componentDidMount","setupCarousel","componentWillReceiveProps","nextProps","_this2","setupAutoPlay","destroyAutoPlay","componentDidUpdate","prevProps","prevState","componentWillUnmount","destroyCarousel","bindEvents","initialImage","unbindEvents","carouselWrapper","window","useKeyboardArrows","document","renderItems","isClone","_this3","map","slideProps","ref","className","ITEM","onClick","bind","minWidth","createElement","renderControls","_this4","showIndicators","DOT","onKeyDown","role","tabIndex","labels","renderStatus","showStatus","statusFormatter","renderThumbs","showThumbs","onSelectItem","transitionTime","thumbWidth","render","canShowArrows","showArrows","hasPrev","hasNext","itemListStyles","transformProp","itemsClone","firstClone","shift","lastClone","pop","swiperProps","SLIDER","tolerance","containerStyles","onSwipeLeft","onSwipeRight","dynamicHeight","itemHeight","onSwipeUp","verticalSwipe","onSwipeDown","CAROUSEL","width","type","leftArrow","ARROW_PREV","WRAPPER","swipeable","tagName","allowMouseEvents","emulateTouch","rightArrow","ARROW_NEXT","Component","displayName","propTypes","string","bool","number","func","isRequired","oneOf","unit","shape","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _cssClasses = require('../cssClasses');\n\nvar _cssClasses2 = _interopRequireDefault(_cssClasses);\n\nvar _CSSTranslate = require('../CSSTranslate');\n\nvar _CSSTranslate2 = _interopRequireDefault(_CSSTranslate);\n\nvar _reactEasySwipe = require('react-easy-swipe');\n\nvar _reactEasySwipe2 = _interopRequireDefault(_reactEasySwipe);\n\nvar _Thumbs = require('./Thumbs');\n\nvar _Thumbs2 = _interopRequireDefault(_Thumbs);\n\nvar _customPropTypes = require('../customPropTypes');\n\nvar customPropTypes = _interopRequireWildcard(_customPropTypes);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar noop = function noop() {};\n\nvar defaultStatusFormatter = function defaultStatusFormatter(current, total) {\n    return current + ' of ' + total;\n};\n\nvar Carousel = function (_Component) {\n    _inherits(Carousel, _Component);\n\n    function Carousel(props) {\n        _classCallCheck(this, Carousel);\n\n        var _this = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this, props));\n\n        _this.setThumbsRef = function (node) {\n            _this.thumbsRef = node;\n        };\n\n        _this.setCarouselWrapperRef = function (node) {\n            _this.carouselWrapperRef = node;\n        };\n\n        _this.setListRef = function (node) {\n            _this.listRef = node;\n        };\n\n        _this.setItemsWrapperRef = function (node) {\n            _this.itemsWrapperRef = node;\n        };\n\n        _this.setItemsRef = function (node, index) {\n            if (!_this.itemsRef) {\n                _this.itemsRef = [];\n            }\n            _this.itemsRef[index] = node;\n        };\n\n        _this.autoPlay = function () {\n            if (!_this.state.autoPlay || _react.Children.count(_this.props.children) <= 1) {\n                return;\n            }\n\n            clearTimeout(_this.timer);\n            _this.timer = setTimeout(function () {\n                _this.increment();\n            }, _this.props.interval);\n        };\n\n        _this.clearAutoPlay = function () {\n            if (!_this.state.autoPlay) {\n                return;\n            }\n\n            clearTimeout(_this.timer);\n        };\n\n        _this.resetAutoPlay = function () {\n            _this.clearAutoPlay();\n            _this.autoPlay();\n        };\n\n        _this.stopOnHover = function () {\n            _this.setState({ isMouseEntered: true });\n            _this.clearAutoPlay();\n        };\n\n        _this.startOnLeave = function () {\n            _this.setState({ isMouseEntered: false });\n            _this.autoPlay();\n        };\n\n        _this.navigateWithKeyboard = function (e) {\n            var axis = _this.props.axis;\n\n            var isHorizontal = axis === 'horizontal';\n            var keyNames = {\n                ArrowUp: 38,\n                ArrowRight: 39,\n                ArrowDown: 40,\n                ArrowLeft: 37\n            };\n\n            var nextKey = isHorizontal ? keyNames.ArrowRight : keyNames.ArrowDown;\n            var prevKey = isHorizontal ? keyNames.ArrowLeft : keyNames.ArrowUp;\n\n            if (nextKey === e.keyCode) {\n                _this.increment();\n            } else if (prevKey === e.keyCode) {\n                _this.decrement();\n            }\n        };\n\n        _this.updateSizes = function () {\n            if (!_this.state.initialized) {\n                return;\n            }\n\n            var isHorizontal = _this.props.axis === 'horizontal';\n            var firstItem = _this.itemsRef[0];\n            var itemSize = isHorizontal ? firstItem.clientWidth : firstItem.clientHeight;\n\n            _this.setState(function (_state, props) {\n                return {\n                    itemSize: itemSize\n                };\n            });\n\n            if (_this.thumbsRef) {\n                _this.thumbsRef.updateSizes();\n            }\n        };\n\n        _this.setMountState = function () {\n            _this.setState({ hasMount: true });\n            _this.updateSizes();\n        };\n\n        _this.handleClickItem = function (index, item) {\n            if (_react.Children.count(_this.props.children) === 0) {\n                return;\n            }\n\n            if (_this.state.cancelClick) {\n                _this.setState({\n                    cancelClick: false\n                });\n\n                return;\n            }\n\n            _this.props.onClickItem(index, item);\n\n            if (index !== _this.state.selectedItem) {\n                _this.setState({\n                    selectedItem: index\n                });\n            }\n        };\n\n        _this.handleOnChange = function (index, item) {\n            if (_react.Children.count(_this.props.children) <= 1) {\n                return;\n            }\n\n            _this.props.onChange(index, item);\n        };\n\n        _this.handleClickThumb = function (index, item) {\n            _this.props.onClickThumb(index, item);\n\n            _this.selectItem({\n                selectedItem: index\n            });\n        };\n\n        _this.onSwipeStart = function (event) {\n            _this.setState({\n                swiping: true\n            });\n            _this.props.onSwipeStart(event);\n            _this.clearAutoPlay();\n        };\n\n        _this.onSwipeEnd = function (event) {\n            _this.setState({\n                swiping: false,\n                cancelClick: false\n            });\n            _this.props.onSwipeEnd(event);\n            _this.autoPlay();\n        };\n\n        _this.onSwipeMove = function (delta, event) {\n            _this.props.onSwipeMove(event);\n            var isHorizontal = _this.props.axis === 'horizontal';\n            var childrenLength = _react.Children.count(_this.props.children);\n\n            var initialBoundry = 0;\n\n            var currentPosition = _this.getPosition(_this.state.selectedItem);\n            var finalBoundry = _this.props.infiniteLoop ? _this.getPosition(childrenLength - 1) - 100 : _this.getPosition(childrenLength - 1);\n\n            var axisDelta = isHorizontal ? delta.x : delta.y;\n            var handledDelta = axisDelta;\n\n            // prevent user from swiping left out of boundaries\n            if (currentPosition === initialBoundry && axisDelta > 0) {\n                handledDelta = 0;\n            }\n\n            // prevent user from swiping right out of boundaries\n            if (currentPosition === finalBoundry && axisDelta < 0) {\n                handledDelta = 0;\n            }\n\n            var position = currentPosition + 100 / (_this.state.itemSize / handledDelta);\n            if (_this.props.infiniteLoop) {\n                // When allowing infinite loop, if we slide left from position 0 we reveal the cloned last slide that appears before it\n                // if we slide even further we need to jump to other side so it can continue - and vice versa for the last slide\n                if (_this.state.selectedItem === 0 && position > -100) {\n                    position -= childrenLength * 100;\n                } else if (_this.state.selectedItem === childrenLength - 1 && position < -childrenLength * 100) {\n                    position += childrenLength * 100;\n                }\n            }\n            position += '%';\n            _this.setPosition(position);\n\n            // allows scroll if the swipe was within the tolerance\n            var hasMoved = Math.abs(axisDelta) > _this.props.swipeScrollTolerance;\n\n            if (hasMoved && !_this.state.cancelClick) {\n                _this.setState({\n                    cancelClick: true\n                });\n            }\n\n            return hasMoved;\n        };\n\n        _this.setPosition = function (position, forceReflow) {\n            var list = _reactDom2.default.findDOMNode(_this.listRef);\n            ['WebkitTransform', 'MozTransform', 'MsTransform', 'OTransform', 'transform', 'msTransform'].forEach(function (prop) {\n                list.style[prop] = (0, _CSSTranslate2.default)(position, _this.props.axis);\n            });\n            if (forceReflow) {\n                list.offsetLeft;\n            }\n        };\n\n        _this.resetPosition = function () {\n            var currentPosition = _this.getPosition(_this.state.selectedItem) + '%';\n            _this.setPosition(currentPosition);\n        };\n\n        _this.decrement = function () {\n            var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n            var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            _this.moveTo(_this.state.selectedItem - (typeof positions === 'number' ? positions : 1), fromSwipe);\n        };\n\n        _this.increment = function () {\n            var positions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n            var fromSwipe = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n            _this.moveTo(_this.state.selectedItem + (typeof positions === 'number' ? positions : 1), fromSwipe);\n        };\n\n        _this.moveTo = function (position, fromSwipe) {\n            var lastPosition = _react.Children.count(_this.props.children) - 1;\n            var needClonedSlide = _this.props.infiniteLoop && !fromSwipe && (position < 0 || position > lastPosition);\n            var oldPosition = position;\n\n            if (position < 0) {\n                position = _this.props.infiniteLoop ? lastPosition : 0;\n            }\n\n            if (position > lastPosition) {\n                position = _this.props.infiniteLoop ? 0 : lastPosition;\n            }\n\n            if (needClonedSlide) {\n                // set swiping true would disable transition time, then we set slider to cloned position and force a reflow\n                // this is only needed for non-swiping situation\n                _this.setState({\n                    swiping: true\n                }, function () {\n                    if (oldPosition < 0) {\n                        if (_this.props.centerMode && _this.props.axis === 'horizontal') {\n                            _this.setPosition('-' + ((lastPosition + 2) * _this.props.centerSlidePercentage - (100 - _this.props.centerSlidePercentage) / 2) + '%', true);\n                        } else {\n                            _this.setPosition('-' + (lastPosition + 2) * 100 + '%', true);\n                        }\n                    } else if (oldPosition > lastPosition) {\n                        _this.setPosition(0, true);\n                    }\n\n                    _this.selectItem({\n                        selectedItem: position,\n                        swiping: false\n                    });\n                });\n            } else {\n                _this.selectItem({\n                    // if it's not a slider, we don't need to set position here\n                    selectedItem: position\n                });\n            }\n\n            // don't reset auto play when stop on hover is enabled, doing so will trigger a call to auto play more than once\n            // and will result in the interval function not being cleared correctly.\n            if (_this.state.autoPlay && _this.state.isMouseEntered === false) {\n                _this.resetAutoPlay();\n            }\n        };\n\n        _this.onClickNext = function () {\n            _this.increment(1, false);\n        };\n\n        _this.onClickPrev = function () {\n            _this.decrement(1, false);\n        };\n\n        _this.onSwipeForward = function () {\n            _this.increment(1, true);\n        };\n\n        _this.onSwipeBackwards = function () {\n            _this.decrement(1, true);\n        };\n\n        _this.changeItem = function (e) {\n            if (!e.key || e.key === 'Enter') {\n                var newIndex = e.target.value;\n\n                _this.selectItem({\n                    selectedItem: newIndex\n                });\n            }\n        };\n\n        _this.selectItem = function (state, cb) {\n            _this.setState(state, cb);\n            _this.handleOnChange(state.selectedItem, _react.Children.toArray(_this.props.children)[state.selectedItem]);\n        };\n\n        _this.getInitialImage = function () {\n            var selectedItem = _this.props.selectedItem;\n            var item = _this.itemsRef && _this.itemsRef[selectedItem];\n            var images = item && item.getElementsByTagName('img');\n            return images && images[selectedItem];\n        };\n\n        _this.getVariableImageHeight = function (position) {\n            var item = _this.itemsRef && _this.itemsRef[position];\n            var images = item && item.getElementsByTagName('img');\n            if (_this.state.hasMount && images.length > 0) {\n                var image = images[0];\n\n                if (!image.complete) {\n                    // if the image is still loading, the size won't be available so we trigger a new render after it's done\n                    var onImageLoad = function onImageLoad() {\n                        _this.forceUpdate();\n                        image.removeEventListener('load', onImageLoad);\n                    };\n\n                    image.addEventListener('load', onImageLoad);\n                }\n\n                var height = image.clientHeight;\n                return height > 0 ? height : null;\n            }\n\n            return null;\n        };\n\n        _this.state = {\n            initialized: false,\n            selectedItem: props.selectedItem,\n            hasMount: false,\n            isMouseEntered: false,\n            autoPlay: props.autoPlay\n        };\n        return _this;\n    }\n\n    _createClass(Carousel, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (!this.props.children) {\n                return;\n            }\n\n            this.setupCarousel();\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _this2 = this;\n\n            if (nextProps.selectedItem !== this.state.selectedItem) {\n                this.updateSizes();\n                this.moveTo(nextProps.selectedItem);\n            }\n\n            if (nextProps.autoPlay !== this.state.autoPlay) {\n                this.setState({\n                    autoPlay: nextProps.autoPlay\n                }, function () {\n                    if (_this2.state.autoPlay) {\n                        _this2.setupAutoPlay();\n                    } else {\n                        _this2.destroyAutoPlay();\n                    }\n                });\n            }\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate(prevProps, prevState) {\n            if (!prevProps.children && this.props.children && !this.state.initialized) {\n                this.setupCarousel();\n            }\n            if (prevState.swiping && !this.state.swiping) {\n                // We stopped swiping, ensure we are heading to the new/current slide and not stuck\n                this.resetPosition();\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.destroyCarousel();\n        }\n    }, {\n        key: 'setupCarousel',\n        value: function setupCarousel() {\n            this.bindEvents();\n\n            if (this.state.autoPlay && _react.Children.count(this.props.children) > 1) {\n                this.setupAutoPlay();\n            }\n\n            this.setState({\n                initialized: true\n            });\n\n            var initialImage = this.getInitialImage();\n            if (initialImage) {\n                // if it's a carousel of images, we set the mount state after the first image is loaded\n                initialImage.addEventListener('load', this.setMountState);\n            } else {\n                this.setMountState();\n            }\n        }\n    }, {\n        key: 'destroyCarousel',\n        value: function destroyCarousel() {\n            if (this.state.initialized) {\n                this.unbindEvents();\n                this.destroyAutoPlay();\n            }\n        }\n    }, {\n        key: 'setupAutoPlay',\n        value: function setupAutoPlay() {\n            this.autoPlay();\n            var carouselWrapper = this.carouselWrapperRef;\n\n            if (this.props.stopOnHover && carouselWrapper) {\n                carouselWrapper.addEventListener('mouseenter', this.stopOnHover);\n                carouselWrapper.addEventListener('mouseleave', this.startOnLeave);\n            }\n        }\n    }, {\n        key: 'destroyAutoPlay',\n        value: function destroyAutoPlay() {\n            this.clearAutoPlay();\n            var carouselWrapper = this.carouselWrapperRef;\n\n            if (this.props.stopOnHover && carouselWrapper) {\n                carouselWrapper.removeEventListener('mouseenter', this.stopOnHover);\n                carouselWrapper.removeEventListener('mouseleave', this.startOnLeave);\n            }\n        }\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents() {\n            // as the widths are calculated, we need to resize\n            // the carousel when the window is resized\n            window.addEventListener(\"resize\", this.updateSizes);\n            // issue #2 - image loading smaller\n            window.addEventListener(\"DOMContentLoaded\", this.updateSizes);\n\n            if (this.props.useKeyboardArrows) {\n                document.addEventListener(\"keydown\", this.navigateWithKeyboard);\n            }\n        }\n    }, {\n        key: 'unbindEvents',\n        value: function unbindEvents() {\n            // removing listeners\n            window.removeEventListener(\"resize\", this.updateSizes);\n            window.removeEventListener(\"DOMContentLoaded\", this.updateSizes);\n\n            var initialImage = this.getInitialImage();\n            if (initialImage) {\n                initialImage.removeEventListener(\"load\", this.setMountState);\n            }\n\n            if (this.props.useKeyboardArrows) {\n                document.removeEventListener(\"keydown\", this.navigateWithKeyboard);\n            }\n        }\n    }, {\n        key: 'getPosition',\n        value: function getPosition(index) {\n            if (this.props.infiniteLoop) {\n                // index has to be added by 1 because of the first cloned slide\n                ++index;\n            }\n            var childrenLength = _react.Children.count(this.props.children);\n            if (this.props.centerMode && this.props.axis === 'horizontal') {\n                var currentPosition = -index * this.props.centerSlidePercentage;\n                var lastPosition = childrenLength - 1;\n\n                if (index && (index !== lastPosition || this.props.infiniteLoop)) {\n                    currentPosition += (100 - this.props.centerSlidePercentage) / 2;\n                } else if (index === lastPosition) {\n                    currentPosition += 100 - this.props.centerSlidePercentage;\n                }\n\n                return currentPosition;\n            }\n\n            return -index * 100;\n        }\n    }, {\n        key: 'renderItems',\n        value: function renderItems(isClone) {\n            var _this3 = this;\n\n            return _react.Children.map(this.props.children, function (item, index) {\n                var slideProps = {\n                    ref: function ref(e) {\n                        return _this3.setItemsRef(e, index);\n                    },\n                    key: 'itemKey' + index + (isClone ? 'clone' : ''),\n                    className: _cssClasses2.default.ITEM(true, index === _this3.state.selectedItem),\n                    onClick: _this3.handleClickItem.bind(_this3, index, item)\n                };\n\n                if (_this3.props.centerMode && _this3.props.axis === 'horizontal') {\n                    slideProps.style = {\n                        minWidth: _this3.props.centerSlidePercentage + '%'\n                    };\n                }\n\n                return _react2.default.createElement(\n                    'li',\n                    slideProps,\n                    item\n                );\n            });\n        }\n    }, {\n        key: 'renderControls',\n        value: function renderControls() {\n            var _this4 = this;\n\n            if (!this.props.showIndicators) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'ul',\n                { className: 'control-dots' },\n                _react.Children.map(this.props.children, function (item, index) {\n                    return _react2.default.createElement('li', { className: _cssClasses2.default.DOT(index === _this4.state.selectedItem), onClick: _this4.changeItem, onKeyDown: _this4.changeItem, value: index, key: index, role: 'button', tabIndex: 0, 'aria-label': _this4.props.labels.item + ' ' + (index + 1) });\n                })\n            );\n        }\n    }, {\n        key: 'renderStatus',\n        value: function renderStatus() {\n            if (!this.props.showStatus) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                'p',\n                { className: 'carousel-status' },\n                this.props.statusFormatter(this.state.selectedItem + 1, _react.Children.count(this.props.children))\n            );\n        }\n    }, {\n        key: 'renderThumbs',\n        value: function renderThumbs() {\n            if (!this.props.showThumbs || _react.Children.count(this.props.children) === 0) {\n                return null;\n            }\n\n            return _react2.default.createElement(\n                _Thumbs2.default,\n                { ref: this.setThumbsRef, onSelectItem: this.handleClickThumb, selectedItem: this.state.selectedItem, transitionTime: this.props.transitionTime, thumbWidth: this.props.thumbWidth, labels: this.props.labels },\n                this.props.children\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.props.children || _react.Children.count(this.props.children) === 0) {\n                return null;\n            }\n\n            var isHorizontal = this.props.axis === 'horizontal';\n\n            var canShowArrows = this.props.showArrows && _react.Children.count(this.props.children) > 1;\n\n            // show left arrow?\n            var hasPrev = canShowArrows && (this.state.selectedItem > 0 || this.props.infiniteLoop);\n            // show right arrow\n            var hasNext = canShowArrows && (this.state.selectedItem < _react.Children.count(this.props.children) - 1 || this.props.infiniteLoop);\n            // obj to hold the transformations and styles\n            var itemListStyles = {};\n\n            var currentPosition = this.getPosition(this.state.selectedItem);\n\n            // if 3d is available, let's take advantage of the performance of transform\n            var transformProp = (0, _CSSTranslate2.default)(currentPosition + '%', this.props.axis);\n\n            var transitionTime = this.props.transitionTime + 'ms';\n\n            itemListStyles = {\n                'WebkitTransform': transformProp,\n                'MozTransform': transformProp,\n                'MsTransform': transformProp,\n                'OTransform': transformProp,\n                'transform': transformProp,\n                'msTransform': transformProp\n            };\n\n            if (!this.state.swiping) {\n                itemListStyles = _extends({}, itemListStyles, {\n                    'WebkitTransitionDuration': transitionTime,\n                    'MozTransitionDuration': transitionTime,\n                    'MsTransitionDuration': transitionTime,\n                    'OTransitionDuration': transitionTime,\n                    'transitionDuration': transitionTime,\n                    'msTransitionDuration': transitionTime\n                });\n            }\n\n            var itemsClone = this.renderItems(true);\n            var firstClone = itemsClone.shift();\n            var lastClone = itemsClone.pop();\n\n            var swiperProps = {\n                selectedItem: this.state.selectedItem,\n                className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n                onSwipeMove: this.onSwipeMove,\n                onSwipeStart: this.onSwipeStart,\n                onSwipeEnd: this.onSwipeEnd,\n                style: itemListStyles,\n                tolerance: this.props.swipeScrollTolerance\n            };\n\n            var containerStyles = {};\n\n            if (isHorizontal) {\n                swiperProps.onSwipeLeft = this.onSwipeForward;\n                swiperProps.onSwipeRight = this.onSwipeBackwards;\n\n                if (this.props.dynamicHeight) {\n                    var itemHeight = this.getVariableImageHeight(this.state.selectedItem);\n                    swiperProps.style.height = itemHeight || 'auto';\n                    containerStyles.height = itemHeight || 'auto';\n                }\n            } else {\n                swiperProps.onSwipeUp = this.props.verticalSwipe === 'natural' ? this.onSwipeBackwards : this.onSwipeForward;\n                swiperProps.onSwipeDown = this.props.verticalSwipe === 'natural' ? this.onSwipeForward : this.onSwipeBackwards;\n                swiperProps.style.height = this.state.itemSize;\n                containerStyles.height = this.state.itemSize;\n            }\n            return _react2.default.createElement(\n                'div',\n                { className: this.props.className, ref: this.setCarouselWrapperRef },\n                _react2.default.createElement(\n                    'div',\n                    { className: _cssClasses2.default.CAROUSEL(true), style: { width: this.props.width } },\n                    _react2.default.createElement('button', { type: 'button', 'aria-label': this.props.labels.leftArrow, className: _cssClasses2.default.ARROW_PREV(!hasPrev), onClick: this.onClickPrev }),\n                    _react2.default.createElement(\n                        'div',\n                        { className: _cssClasses2.default.WRAPPER(true, this.props.axis), style: containerStyles, ref: this.setItemsWrapperRef },\n                        this.props.swipeable ? _react2.default.createElement(\n                            _reactEasySwipe2.default,\n                            _extends({\n                                tagName: 'ul',\n                                ref: this.setListRef\n                            }, swiperProps, {\n                                allowMouseEvents: this.props.emulateTouch }),\n                            this.props.infiniteLoop && lastClone,\n                            this.renderItems(),\n                            this.props.infiniteLoop && firstClone\n                        ) : _react2.default.createElement(\n                            'ul',\n                            {\n                                className: _cssClasses2.default.SLIDER(true, this.state.swiping),\n                                ref: this.setListRef,\n                                style: itemListStyles },\n                            this.props.infiniteLoop && lastClone,\n                            this.renderItems(),\n                            this.props.infiniteLoop && firstClone\n                        )\n                    ),\n                    _react2.default.createElement('button', { type: 'button', 'aria-label': this.props.labels.rightArrow, className: _cssClasses2.default.ARROW_NEXT(!hasNext), onClick: this.onClickNext }),\n                    this.renderControls(),\n                    this.renderStatus()\n                ),\n                this.renderThumbs()\n            );\n        }\n    }]);\n\n    return Carousel;\n}(_react.Component);\n\nCarousel.displayName = 'Carousel';\nCarousel.propTypes = {\n    className: _propTypes2.default.string,\n    children: _propTypes2.default.node,\n    showArrows: _propTypes2.default.bool,\n    showStatus: _propTypes2.default.bool,\n    showIndicators: _propTypes2.default.bool,\n    infiniteLoop: _propTypes2.default.bool,\n    showThumbs: _propTypes2.default.bool,\n    thumbWidth: _propTypes2.default.number,\n    selectedItem: _propTypes2.default.number,\n    onClickItem: _propTypes2.default.func.isRequired,\n    onClickThumb: _propTypes2.default.func.isRequired,\n    onChange: _propTypes2.default.func.isRequired,\n    axis: _propTypes2.default.oneOf(['horizontal', 'vertical']),\n    verticalSwipe: _propTypes2.default.oneOf(['natural', 'standard']),\n    width: customPropTypes.unit,\n    useKeyboardArrows: _propTypes2.default.bool,\n    autoPlay: _propTypes2.default.bool,\n    stopOnHover: _propTypes2.default.bool,\n    interval: _propTypes2.default.number,\n    transitionTime: _propTypes2.default.number,\n    swipeScrollTolerance: _propTypes2.default.number,\n    swipeable: _propTypes2.default.bool,\n    dynamicHeight: _propTypes2.default.bool,\n    emulateTouch: _propTypes2.default.bool,\n    statusFormatter: _propTypes2.default.func.isRequired,\n    centerMode: _propTypes2.default.bool,\n    centerSlidePercentage: _propTypes2.default.number,\n    labels: _propTypes2.default.shape({\n        leftArrow: _propTypes2.default.string,\n        rightArrow: _propTypes2.default.string,\n        item: _propTypes2.default.string\n    }),\n    onSwipeStart: _propTypes2.default.func,\n    onSwipeEnd: _propTypes2.default.func,\n    onSwipeMove: _propTypes2.default.func\n};\nCarousel.defaultProps = {\n    showIndicators: true,\n    showArrows: true,\n    showStatus: true,\n    showThumbs: true,\n    infiniteLoop: false,\n    selectedItem: 0,\n    axis: 'horizontal',\n    verticalSwipe: 'standard',\n    width: '100%',\n    useKeyboardArrows: false,\n    autoPlay: false,\n    stopOnHover: true,\n    interval: 3000,\n    transitionTime: 350,\n    swipeScrollTolerance: 5,\n    swipeable: true,\n    dynamicHeight: false,\n    emulateTouch: false,\n    onClickItem: noop,\n    onClickThumb: noop,\n    onChange: noop,\n    statusFormatter: defaultStatusFormatter,\n    centerMode: false,\n    centerSlidePercentage: 80,\n    labels: {\n        leftArrow: 'previous slide / item',\n        rightArrow: 'next slide / item',\n        item: 'slide item'\n    },\n    onSwipeStart: function onSwipeStart() {},\n    onSwipeEnd: function onSwipeEnd() {},\n    onSwipeMove: function onSwipeMove() {}\n};\nexports.default = Carousel;"]},"metadata":{},"sourceType":"script"}